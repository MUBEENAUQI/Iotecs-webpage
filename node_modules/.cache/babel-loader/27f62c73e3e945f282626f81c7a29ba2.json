{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\IoTECS-for-Medical-Transportation\\\\src\\\\components\\\\Bodypara\\\\ECG.js\";\nimport React, { Component } from \"react\";\nimport CanvasJSReact from \"../../assets/canvasjs.react\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/database\";\nimport Row from \"react-bootstrap/esm/Row\";\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\nvar dps = [{\n  x: 2,\n  y: 81\n}, {\n  x: 3,\n  y: 83\n}, {\n  x: 4,\n  y: 88\n}, {\n  x: 5,\n  y: 98\n}, {\n  x: 6,\n  y: 92\n}, {\n  x: 7,\n  y: 85\n}, {\n  x: 8,\n  y: 73\n}, {\n  x: 9,\n  y: 71\n}, {\n  x: 10,\n  y: 70\n}, {\n  x: 11,\n  y: 83\n}]; //dataPoints.\n\nvar xVal = dps.length + .1;\nvar yVal = 15;\nvar updateInterval = 100;\n\nclass ECG extends React.Component {\n  constructor() {\n    super();\n    this.updateChart = this.updateChart.bind(this);\n    this.state = {\n      count: 0\n    };\n  }\n\n  componentDidMount() {\n    firebase.database().ref(\"sensorData/1-set\").on(\"value\", snapshot => {\n      console.log(snapshot.val().object);\n      this.setState({\n        count: snapshot.val().ecg\n      });\n    });\n    setInterval(this.updateChart, updateInterval);\n  }\n\n  updateChart() {\n    yVal = this.state.count;\n    dps.push({\n      x: xVal,\n      y: yVal\n    });\n    xVal++;\n\n    if (dps.length > 10) {\n      dps.shift();\n    }\n\n    this.chart.render();\n  }\n\n  render() {\n    const options = {\n      title: {\n        text: \"ECG - Echo Cardiogram\"\n      },\n      data: [{\n        type: \"spline\",\n        dataPoints: dps\n      }]\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(CanvasJSChart, {\n      options: options,\n      onRef: ref => this.chart = ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ECG; //import React, { Component, ScrollContainer, useState } from 'react';\n//import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Brush } from 'recharts';\n//import Row from \"react-bootstrap/esm/Row\";\n//import firebase from \"firebase/compat/app\";\n//import \"firebase/compat/database\";\n//class ECG extends React.Component {\n//    constructor(props) {\n//        super(props);\n//        this.state = {\n//            TempList: [],\n//            count: 0,\n//        };\n//    }\n//    componentDidMount() {\n//        firebase.database().ref(\"mlx90614/1-set\").on(\"value\", snapshot => {\n//            console.log(snapshot.val().object);\n//            this.setState({ count: snapshot.val().object });\n//        });\n//        firebase.database().ref(\"mlx90614/2-push\").on(\"value\", snapshot => {\n//            let TempList = [];\n//            snapshot.forEach(snap => {\n//                TempList.push(snap.val());\n//                console.log(snap.val());\n//            });\n//            this.setState({ TempList: TempList });\n//        });\n//    }\n//    render() {\n//        const { TempList } = this.state;\n//        return (\n//                    <ResponsiveContainer width=\"100%\" height=\"100%\" >\n//                             <LineChart width={300} height={80} data={TempList}>\n//                            <Line type=\"monotone\" dataKey=\"y\" stroke=\"#8884d8\" strokeWidth={3} dot={false} />\n//                            <CartesianGrid opacity={1} vertical={false} />\n//                            {/*<Brush startIndex={this.state.start} endIndex={this.state.end} />*/}\n//                            <YAxis />\n//                        </LineChart>\n//            </ResponsiveContainer >\n//        );\n//    }\n//}\n//export default ECG;\n//import React, { Component, ScrollContainer, useState } from 'react';\n//import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Brush } from 'recharts';\n//import Row from \"react-bootstrap/esm/Row\";\n//import { CanvasJSChart } from 'canvasjs-react-charts'\n//const data = [];\n//for (let num = 5; num >= 0; num--) {\n//    data.push({\n//        y: Math.floor(Math.random() * (400 - 180 + 1)) + 180\n//    });\n//}\n//class ECG extends React.Component {\n//    constructor(props) {\n//        super(props);\n//        this.state = {\n//            start: 0,\n//            end: 0,\n//            val: [],\n//            count: 0,\n//            news: data,\n//        };\n//    }\n//    componentDidMount = () => {\n//        let flag = 0;\n//        let i = 0;\n//        console.log(this.state.news);\n//        this.myTimer = setInterval(() => {\n//            flag = flag + 1;\n//            if (i === 0) {\n//                this.setState({ news: data });\n//                i=1;\n//            }\n//            if (flag === 5) {\n//                this.setState({news : this.val })\n//                this.setState({ val: [{y:885}] });\n//                flag = 0;\n//            }\n//            this.setState(prevState => ({\n//                val: [...prevState.val, { y: Math.floor(Math.random() * (400 - 180 + 1)) + 180 }],\n//            }));\n//        }, 1000);\n//    };\n//    componentWillMount = () => {\n//        clearInterval(this.myTimer);\n//    }\n//    render() {\n//        const { val } = this.state;\n//        const { news } = this.state;\n//        return (\n//            <div>\n//                {news.map(({ y }) => {\n//                    return <p key={y}> {y} </p>\n//                })}\n//            </div>\n//    //        <ResponsiveContainer width=\"100%\" height=\"100%\" >\n//    //            <LineChart width={300} height={80} data={news}>\n//    //                <Line type=\"monotone\" dataKey=\"y\" stroke=\"#8884d8\" strokeWidth={3} dot={false} />\n//    //                <CartesianGrid opacity={1} vertical={false} />\n//    //                {/*<Brush startIndex={this.state.start} endIndex={this.state.end} />*/}\n//    //                <YAxis />\n//    //            </LineChart>\n//    //</ResponsiveContainer >\n//        );\n//    }\n//}\n//export default ECG;","map":{"version":3,"sources":["D:/project/IoTECS-for-Medical-Transportation/src/components/Bodypara/ECG.js"],"names":["React","Component","CanvasJSReact","firebase","Row","CanvasJSChart","dps","x","y","xVal","length","yVal","updateInterval","ECG","constructor","updateChart","bind","state","count","componentDidMount","database","ref","on","snapshot","console","log","val","object","setState","ecg","setInterval","push","shift","chart","render","options","title","text","data","type","dataPoints"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport CanvasJSReact from \"../../assets/canvasjs.react\";\r\nimport firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/database\";\r\nimport Row from \"react-bootstrap/esm/Row\";\r\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\r\n\r\nvar dps = [{ x: 2, y: 81 },\r\n\t{ x: 3, y: 83 },\r\n\t{ x: 4, y: 88 },\r\n\t{ x: 5, y: 98 },\r\n\t{ x: 6, y: 92 },\r\n\t{ x: 7, y: 85 },\r\n\t{ x: 8, y: 73 },\r\n\t{ x: 9, y: 71 },\r\n\t{ x: 10, y: 70 },\r\n\t{ x: 11, y: 83 },];   //dataPoints.\r\n\r\nvar xVal = dps.length + .1;\r\nvar yVal = 15;\r\nvar updateInterval = 100;\r\n\r\nclass ECG extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.updateChart = this.updateChart.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tcount:0\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t\tfirebase.database().ref(\"sensorData/1-set\").on(\"value\", snapshot => {\r\n\t\t\tconsole.log(snapshot.val().object);\r\n\t\t\tthis.setState({ count: snapshot.val().ecg });\r\n\r\n\t\t});\r\n\r\n\t\tsetInterval(this.updateChart, updateInterval);\r\n\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\n\tupdateChart() {\r\n\r\n\t\tyVal = this.state.count;\r\n\t\tdps.push({ x: xVal, y: yVal });\r\n\t\txVal++;\r\n\t\tif (dps.length > 10) {\r\n\t\t\tdps.shift();\r\n\t\t}\r\n\t\tthis.chart.render();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst options = {\r\n\t\t\ttitle: {\r\n\t\t\t\ttext: \"ECG - Echo Cardiogram\"\r\n\t\t\t},\r\n\t\t\tdata: [{\r\n\t\t\t\ttype: \"spline\",\r\n\t\t\t\tdataPoints: dps\r\n\t\t\t}]\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CanvasJSChart options={options}\r\n\t\t\t\t\tonRef={ref => this.chart = ref}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default ECG;\r\n\r\n\r\n//import React, { Component, ScrollContainer, useState } from 'react';\r\n//import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Brush } from 'recharts';\r\n//import Row from \"react-bootstrap/esm/Row\";\r\n//import firebase from \"firebase/compat/app\";\r\n//import \"firebase/compat/database\";\r\n\r\n\r\n\r\n\r\n//class ECG extends React.Component {\r\n//    constructor(props) {\r\n//        super(props);\r\n//        this.state = {\r\n            \r\n//            TempList: [],\r\n//            count: 0,\r\n            \r\n\r\n//        };\r\n//    }\r\n//    componentDidMount() {\r\n\r\n\r\n//        firebase.database().ref(\"mlx90614/1-set\").on(\"value\", snapshot => {\r\n//            console.log(snapshot.val().object);\r\n//            this.setState({ count: snapshot.val().object });\r\n\r\n//        });\r\n//        firebase.database().ref(\"mlx90614/2-push\").on(\"value\", snapshot => {\r\n//            let TempList = [];\r\n//            snapshot.forEach(snap => {\r\n\r\n//                TempList.push(snap.val());\r\n//                console.log(snap.val());\r\n//            });\r\n//            this.setState({ TempList: TempList });\r\n//        });\r\n\r\n//    }\r\n\r\n   \r\n\r\n\r\n//    render() {\r\n//        const { TempList } = this.state;\r\n   \r\n\r\n//        return (\r\n           \r\n//                    <ResponsiveContainer width=\"100%\" height=\"100%\" >\r\n\r\n//                             <LineChart width={300} height={80} data={TempList}>\r\n//                            <Line type=\"monotone\" dataKey=\"y\" stroke=\"#8884d8\" strokeWidth={3} dot={false} />\r\n//                            <CartesianGrid opacity={1} vertical={false} />\r\n//                            {/*<Brush startIndex={this.state.start} endIndex={this.state.end} />*/}\r\n//                            <YAxis />\r\n//                        </LineChart>\r\n\r\n//            </ResponsiveContainer >\r\n\r\n//        );\r\n//    }\r\n//}\r\n//export default ECG;\r\n\r\n\r\n//import React, { Component, ScrollContainer, useState } from 'react';\r\n//import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Brush } from 'recharts';\r\n//import Row from \"react-bootstrap/esm/Row\";\r\n//import { CanvasJSChart } from 'canvasjs-react-charts'\r\n//const data = [];\r\n\r\n//for (let num = 5; num >= 0; num--) {\r\n//    data.push({\r\n//        y: Math.floor(Math.random() * (400 - 180 + 1)) + 180\r\n\r\n//    });\r\n\r\n//}\r\n\r\n\r\n//class ECG extends React.Component {\r\n//    constructor(props) {\r\n//        super(props);\r\n//        this.state = {\r\n//            start: 0,\r\n//            end: 0,\r\n//            val: [],\r\n//            count: 0,\r\n//            news: data,\r\n\r\n//        };\r\n//    }\r\n\r\n//    componentDidMount = () => {\r\n//        let flag = 0;\r\n//        let i = 0;\r\n//        console.log(this.state.news);\r\n//        this.myTimer = setInterval(() => {\r\n//            flag = flag + 1;\r\n\r\n//            if (i === 0) {\r\n//                this.setState({ news: data });\r\n//                i=1;\r\n//            }\r\n\r\n//            if (flag === 5) {\r\n//                this.setState({news : this.val })\r\n//                this.setState({ val: [{y:885}] });\r\n//                flag = 0;\r\n//            }\r\n                \r\n\r\n//            this.setState(prevState => ({\r\n//                val: [...prevState.val, { y: Math.floor(Math.random() * (400 - 180 + 1)) + 180 }],\r\n                \r\n//            }));\r\n            \r\n            \r\n//        }, 1000);\r\n//    };\r\n\r\n\r\n//    componentWillMount = () => {\r\n//        clearInterval(this.myTimer);\r\n//    }\r\n\r\n    \r\n\r\n    \r\n//    render() {\r\n//        const { val } = this.state;\r\n//        const { news } = this.state;\r\n\r\n//        return (\r\n//            <div>\r\n\r\n//                {news.map(({ y }) => {\r\n//                    return <p key={y}> {y} </p>\r\n//                })}\r\n\r\n//            </div>\r\n//    //        <ResponsiveContainer width=\"100%\" height=\"100%\" >\r\n\r\n//    //            <LineChart width={300} height={80} data={news}>\r\n//    //                <Line type=\"monotone\" dataKey=\"y\" stroke=\"#8884d8\" strokeWidth={3} dot={false} />\r\n//    //                <CartesianGrid opacity={1} vertical={false} />\r\n//    //                {/*<Brush startIndex={this.state.start} endIndex={this.state.end} />*/}\r\n//    //                <YAxis />\r\n//    //            </LineChart>\r\n           \r\n//    //</ResponsiveContainer >\r\n                \r\n//        );\r\n//    }\r\n//}\r\n//export default ECG;"]},"metadata":{},"sourceType":"module"}